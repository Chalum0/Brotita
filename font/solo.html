<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>

    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/solo.css">
</head>
<body>
    <div class="content">
        <div class="left">
            <div class="header">
                <h4>STATS</h4>
            </div>
            <div class="stats">
                <div class="stat">
                    <div class="ico">
                        <img src="./assets/img/icons/1.svg">
                    </div>
                    <p>1</p>
                    <label>Point de Vie Max</label>
                </div>
                <div class="stat">
                    <div class="ico">
                        <img src="./assets/img/icons/2.svg">
                    </div>
                    <p>1</p>
                    <label>Régénération PV</label>
                </div>
                <div class="stat">
                    <div class="ico">
                        <img src="./assets/img/icons/3.svg">
                    </div>
                    <p>1</p>
                    <label>Attack</label>
                </div>
                <div class="stat">
                    <div class="ico">
                        <img src="./assets/img/icons/4.svg">
                    </div>
                    <p>1</p>
                    <label>Vitesse Attack</label>
                </div>
                <div class="stat">
                    <div class="ico">
                        <img src="./assets/img/icons/5.svg">
                    </div>
                    <p>1</p>
                    <label>Distance</label>
                </div>
                <div class="stat">
                    <div class="ico">
                        <img src="./assets/img/icons/6.svg">
                    </div>
                    <p>1</p>
                    <label>Vitesse</label>
                </div>
                <div class="stat">
                    <div class="ico">
                        <img src="./assets/img/icons/7.svg">
                    </div>
                    <p>1</p>
                    <label>Chance</label>
                </div>
            </div>
        </div>
        <div class="middle">
            <div class="header">
                <h4>SOLO</h4>
            </div>
            <div class="weapons">
                <div class="grid">
                    <div
                        class="items"
                        data-char="[0, 0, 2, 2, 1.3, 1, 10]"
                        onclick="updateStatsWeapons(this)"
                    >
                        <img src="./assets/img/weapons/1.png" alt="">
                    </div>
                    <div
                        class="items"
                        data-char="[1, 0, 1, 3, 1.01, 1.2, 5]"
                        onclick="updateStatsWeapons(this)"
                    >
                        <img src="./assets/img/weapons/2.png" alt="">
                    </div>
                    <div
                        class="items"
                        data-char="[-1, -1, 1, 1, -1, 5, -1]"
                        onclick="updateStatsWeapons(this)"
                    >
                        <img src="./assets/img/weapons/3.png" alt="">
                    </div>
                    <div
                        class="items"
                        data-char="[1, 1, 1, 1, 1, 1, 1]"
                        onclick="updateStatsWeapons(this)"
                    >
                        <img src="./assets/img/weapons/4.png" alt="">
                    </div>
                    <div
                        class="items"
                        data-char="[0, 0, 2, 2, 2, 2, -3]"
                        onclick="updateStatsWeapons(this)"
                    >
                        <img src="./assets/img/weapons/5.png" alt="">
                    </div>
                    <div
                        class="items"
                        data-char="[0, 0, 2, 2, 2, -1, 1]"
                        onclick="updateStatsWeapons(this)"
                    >
                        <img src="./assets/img/weapons/6.png" alt="">
                    </div>
                    <div
                        class="items"
                        data-char="[2, 3, 3, 3, 3, 3, -5]"
                        onclick="updateStatsWeapons(this)"
                    >
                        <img src="./assets/img/weapons/7.png" alt="">
                    </div>
                    <div
                        class="items"
                        data-char="[-1, 0, 1.5, 4, 1, 5, 3]"
                        onclick="updateStatsWeapons(this)"
                    >
                        <img src="./assets/img/weapons/8.png" alt="">
                    </div>
                    <div
                        class="items"
                        data-char="[1, 1, 1, 1, 1, 1, 10]"
                        onclick="updateStatsWeapons(this)"
                    >
                        <img src="./assets/img/weapons/9.png" alt="">
                    </div>
                    <div
                        class="items"
                        data-char="[-1, -1, -1, -1, -1, -1, -1]"
                        onclick="updateStatsWeapons(this)"
                    >
                        <img src="./assets/img/weapons/10.png" alt="">
                    </div>
                </div>
            </div>
            <div class="characters">
                <div class="grid">
                    <div 
                    class="items"
                    data-char="[100, 5, 1, 1, 1, 1, 1]"
                    onclick="updateStatsChar(this)"
                    >
                        <img src="./assets/img/bro/1.png" alt="">
                    </div>
                    <div 
                    class="items"
                    data-char="[0, 0, 0, 0, 0, 0, 0]"
                    onclick="updateStatsChar(this)"
                    >
                        <img src="./assets/img/bro/2.png" alt="">
                    </div>
                    <div 
                    class="items"
                    data-char="[0, 0, 0, 0, 0, 0, 0]"
                    onclick="updateStatsChar(this)"
                    >
                        <img src="./assets/img/bro/3.png" alt="">
                    </div>
                    <div 
                    class="items"
                    data-char="[0, 0, 0, 0, 0, 0, 0]"
                    onclick="updateStatsChar(this)"
                    >
                        <img src="./assets/img/bro/4.png" alt="">
                    </div>
                    <div 
                    class="items"
                    data-char="[0, 0, 0, 0, 0, 0, 0]"
                    onclick="updateStatsChar(this)"
                    >
                        <img src="./assets/img/bro/5.png" alt="">
                    </div>
                    <div 
                    class="items"
                    data-char="[0, 0, 0, 0, 0, 0, 0]"
                    onclick="updateStatsChar(this)"
                    >
                        <img src="./assets/img/bro/6.png" alt="">
                    </div>
                    <div 
                    class="items"
                    data-char="[0, 0, 0, 0, 0, 0, 0]"
                    onclick="updateStatsChar(this)"
                    >
                        <img src="./assets/img/bro/7.png" alt="">
                    </div>
                    <div 
                    class="items"
                    data-char="[0, 0, 0, 0, 0, 0, 0]"
                    onclick="updateStatsChar(this)"
                    >
                        <img src="./assets/img/bro/8.png" alt="">
                    </div>
                    <div 
                    class="items"
                    data-char="[0, 0, 0, 0, 0, 0, 0]"
                    onclick="updateStatsChar(this)"
                    >
                        <img src="./assets/img/bro/9.png" alt="">
                    </div>
                    <div 
                    class="items"
                    data-char="[0, 0, 0, 0, 0, 0, 0]"
                    onclick="updateStatsChar(this)"
                    >
                        <img src="./assets/img/bro/orgine.png" alt="">
                    </div>
                </div>
            </div>
            
            <button id="playButton">PLAY</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
    // Variables pour stocker les sélections
    let selectedWeapon = null;
    let selectedCharacter = null;
    
    // Fonction pour vérifier si les deux sélections sont faites
    function checkSelections() {
        const playButton = document.getElementById('playButton');
        if (selectedWeapon && selectedCharacter) {
            playButton.style.display = 'block';
        } else {
            playButton.style.display = 'none';
        }
    }
    
    // Gestion des sélections d'armes
    const weaponItems = document.querySelectorAll('.weapons .items');
    weaponItems.forEach(weapon => {
        weapon.addEventListener('click', function() {
            if (this.classList.contains('selected')) {
            // Si l'élément est déjà sélectionné, retirer la sélection
            this.classList.remove('selected');
            selectedWeapon = null;
            } else {
            // Sinon, retirer la sélection précédente et sélectionner l'élément actuel
            weaponItems.forEach(w => w.classList.remove('selected'));
            this.classList.add('selected');
            selectedWeapon = this;
            }
            checkSelections();
        });
    });
    
    // Gestion des sélections de personnages
    const characterItems = document.querySelectorAll('.characters .items');
    characterItems.forEach(character => {
        character.addEventListener('click', function() {
            if (this.classList.contains('selected')) {
                // Si l'élément est déjà sélectionné, retirer la sélection
                this.classList.remove('selected');
                selectedCharacter = null;
            } else {
                // Sinon, retirer la sélection précédente et sélectionner l'élément actuel
                characterItems.forEach(c => c.classList.remove('selected'));
                this.classList.add('selected');
                selectedCharacter = this;
            }
            checkSelections();
        });
    });
    
    document.getElementById('playButton').addEventListener('click', function() {
        // Vérifier que les sélections sont faites
        if (selectedWeapon && selectedCharacter) {
            // Stocker les données du personnage
            localStorage.setItem('selectedCharacter', selectedCharacter.getAttribute('data-char'));
            
            // Créer un inventaire avec l'arme sélectionnée
            const inventory = [
                JSON.parse(selectedWeapon.getAttribute('data-char'))
            ];
            
            // Stocker l'inventaire dans localStorage
            localStorage.setItem('inventory', JSON.stringify(inventory));
            
            // Calculer et stocker les stats totales
            const weaponStats = JSON.parse(selectedWeapon.getAttribute('data-char'));
            const charStats = JSON.parse(selectedCharacter.getAttribute('data-char'));
            const totalStats = weaponStats.map((stat, index) => stat + charStats[index]);
            localStorage.setItem('playerStats', JSON.stringify(totalStats));
            
            // Rediriger vers la page de jeu
            window.location.href = 'game.html';
        }
    });
});
    </script>

    <script>
        let weaponsStats = [0, 0, 0, 0, 0, 0, 0];
        let charStats = [0, 0, 0, 0, 0, 0, 0];
        let stats = [0, 0, 0, 0, 0, 0, 0];

        function updateStats(){
            // Récupérer les stats de l'arme et du personnage
            const weapon = weaponsStats.map(Number);
            const char = charStats.map(Number);
            // Calculer les stats totales
            const totalStats = weapon.map((stat, index) => stat + char[index]);
            // Mettre à jour les éléments de stats dans le DOM
            const statElements = document.querySelectorAll('.stats .stat p');
            statElements.forEach((element, index) => {
                element.textContent = totalStats[index];
            });
        }

        function updateStatsWeapons(element) {
            // Récupérer les stats de l'arme sélectionnée
            const stats = JSON.parse(element.getAttribute('data-char'));
            weaponsStats = stats;
            updateStats();
        }

        function updateStatsChar(element) {
            // Récupérer les stats du personnage sélectionné
            const stats = JSON.parse(element.getAttribute('data-char'));
            charStats = stats; 
            updateStats();
        }
    </script>
</body>
</html>